#!/usr/bin/env node

const argv = require('minimist')(process.argv.slice(2));
const fs = require('fs');

if (argv.help) {
    let file = fs.readFileSync(__dirname + '/../package.json');
    let package = JSON.parse(file);
    console.log('secure-localhost v' + package.version);
    console.log('Usage: secure-localhost [port number]');
    return;
}

const host = argv.target || 'http://localhost';
const port = argv._.length > 0 ? argv._[0] : 80;

require('../src/index')(host + ':' + port, argv.port || 443, argv);
